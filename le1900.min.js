var curHash="";$(document).ready(function(){$("#block_112785 a.style__button").clone().appendTo(".mobile__header-model-1 #header .calendar"),$('<div class="col-xs-1"></div>').append($("li.site__navbar-language--dropbtn").clone()).insertAfter("nav.mobile__header-model-1 div.u-text-center"),$(".mobile__header-model-1 #header .col-xs-3:last-child").addClass("col-xs-2").removeClass("col-xs-3"),$(".j-fit-text-title-112785").removeClass("j-fit-text-title-112785"),$(".room-model-2__desc .see_more").length&&($(".room-model-2__desc .j-block-text>p, .room-model-2__desc .see_more").hide(),$(".room-model-2__desc .modal-body>div>div").insertBefore(".room-model-2__desc .j-block-text:first-child")),$(".room__amenities--list .see_more").length&&($(".room-model-2__amenities>.room__amenities--list, .room__amenities--list .see_more").hide(),$(".room__amenities--list .modal-body .room__amenities--list").insertBefore(".room-model-2__amenities>.room__amenities--list")),$(".site__navbar--side-div a").clone().addClass("hidden-md").appendTo(".room-model-2__desc, .room-model-2__amenities"),$(".pricing_table_block td").on("mouseenter",function(e){$(this).addClass("highlight");var t=$(this).parents("table");$('td[row-coordinate="'+$(this).attr("row-coordinate")+'"][column-coordinate="1"]',t).addClass("highlight"),$('td[column-coordinate="'+($(this).attr("column-coordinate")-$(this).attr("column-coordinate")%2)+'"][row-coordinate="1"]',t).addClass("highlight"),$('td[column-coordinate="'+$(this).attr("column-coordinate")+'"][row-coordinate="2"]',t).addClass("highlight")}).on("mouseleave",function(e){$(this).removeClass("highlight");var t=$(this).parents("table");$('td[row-coordinate="'+$(this).attr("row-coordinate")+'"][column-coordinate="1"]',t).removeClass("highlight"),$('td[column-coordinate="'+($(this).attr("column-coordinate")-$(this).attr("column-coordinate")%2)+'"][row-coordinate="1"]',t).removeClass("highlight"),$('td[column-coordinate="'+$(this).attr("column-coordinate")+'"][row-coordinate="2"]',t).removeClass("highlight")}),$(".pricing_table_block td").on("click",function(e){if($(".grandes_marees").length){var t=$('td[row-coordinate="'+Math.max($(this).attr("row-coordinate"),3)+'"][column-coordinate="1"]',$(this).parents("table")).text()+" "+$("h2",$(this).parents(".pricing_table_wrapper").parent()).text(),a=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre","January","February","March","April","May","June","July","August","September","October","November","December","Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre","Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre","Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"];t=(t=t.replace(/([a-zA-Zéû]+)/g,function(e){var t=a.indexOf(e)%12+1;return 0==t?"":(t<10?"0":"")+t})).replace(/([a-zA-Z\s]+)(\d{1,2})\s+(\d{2})\s+(\d{4})\s+/,"$4/$3/$2");var i=new Date(t),o=window.location.origin+window.location.pathname+"?start_date="+i.toISOString().split("T")[0];i.setDate(i.getDate()+1),o+="&end_date="+i.toISOString().split("T")[0]+"&adults=2&children=0#RoomSelection-BE",window.open(o,"_blank")}}),setInterval(checkBookingProcess,100)}),checkBookingProcess=function(){if(curHash!=window.location.hash){if("#RoomSelection-BE"==window.location.hash){if($('div[data-testid="rooms-available"]')){curHash=window.location.hash,$('div[data-testid="rates"]').each(function(){$('div[class*="styles-module__rate__"]:contains("30%")',$(this)).insertAfter($('div[class*="styles-module__header_"]',$(this)))});var e=new URLSearchParams(window.location.search),t=parseInt(e.get("adults"))+parseInt(e.get("children"));if(e.get("children")>0){$('div[data-testid="room-tile"]:contains("Barclay")').addClass("hide"),$('div[data-testid="room-tile"]:contains("Orientale")').addClass("hide"),$('div[data-testid="room-tile"]:contains("Louisiane")').addClass("hide"),$('div[data-testid="room-tile"]:contains("Suite")').addClass("hide"),$('div[data-testid="room-tile"]:contains("Ty Nid")').toggleClass("hide",4==t);var a=$('div[data-testid="room-tile"]:visible').length,i=$('div[data-testid="room-tile"]').length,o=$('div[data-testid="rooms-available"]').text();$('div[data-testid="rooms-available"]').text(o.replace(i,a))}3==t?($('div[data-testid="room-tile"]:contains("Pavillon")').insertAfter($('div[data-testid="rooms-available"]')),$('div[data-testid="room-tile"]:contains("Lodge")').insertAfter($('div[data-testid="rooms-available"]')),$('div[data-testid="room-tile"]:contains("Ty Nid")').insertAfter($('div[data-testid="rooms-available"]'))):t>=4&&($('div[data-testid="room-tile"]:contains("Pavillon")').insertAfter($('div[data-testid="rooms-available"]')),$('div[data-testid="room-tile"]:contains("Lodge")').insertAfter($('div[data-testid="rooms-available"]'))),$("#near_avail").remove(),0==$('div[data-testid="room-tile"]:visible').length&&checkNearDates()}}else curHash=window.location.hash}},checkNearDates=function(){var e=new URLSearchParams(window.location.search),t=e.get("start_date")?new Date(e.get("start_date")):null,a=e.get("end_date")?new Date(e.get("end_date")):null;if(!a&&(a=t,t&&a.setDate(t.getDate()+2)),t&&a){var i=new Date;i.setTime(0,0,0,0);var o=(a-t)/864e5,r=JSON.parse($("div[data-react-props]").attr("data-react-props")).locale||"fr";$('div[data-testid="rooms-available"]').after('<div class="row small" id="near_avail" style="margin: 1.5em 1em"></div>'),$("#near_avail").append($("<h5></h5>").text({fr:"Disponibilit\xe9s approchantes",en:"Nearby availabities",de:"Nahe liegende Verf\xfcgbarkeiten",it:"Disponibilit\xe0 nelle vicinanze",es:"Disponibilidades cercanas",nl:"Beschikbaarheid in de buurt"}[r]+":")),Math.round((t-i)/864e5,0)>2?(t.setDate(t.getDate()-2),a.setDate(a.getDate()-2)):((t=i).setDate(t.getDate()+1),(a=t).setDate(t.getDate()+o));for(let s=1;s<6;s++)(t.toISOString().split("T")[0]!=e.get("start_date")||a.toISOString().split("T")[0]!=e.get("end_date"))&&checkAddNearAvail(e,t,a,r),t.setDate(t.getDate()+1),t<a&&checkAddNearAvail(e,t,a,r),a.setDate(a.getDate()+1)}},checkAddNearAvail=function(e,t,a,i){let o=t.toISOString().split("T")[0],r=a.toISOString().split("T")[0];e.set("start_date",o),e.set("end_date",r);let s="https://www.le1900.com/"+i+"/api_public/v1/client_booking_engine/room_availability?arrival_date="+e.get("start_date")+"&departure_date="+e.get("end_date")+"&total_adults="+e.get("adults")+"&total_children="+e.get("children"),d=window.location.origin+window.location.pathname+"?"+e.toString()+window.location.hash,l=t.toLocaleDateString(i,{dateStyle:"medium"})+" -> "+a.toLocaleDateString(i,{dateStyle:"medium"});$("#near_avail").append($('<div id="chk-'+o+"-"+r+'"></div>').addClass("col-md-6 col-lg-4").append("<a>"+l+"</a>").append('&nbsp;<i class="fas fa-spinner fa-spin "></i>')),$.ajax({url:s,success:function(t){let a=t&&t.success&&t.data&&t.data.rooms?t.data.rooms.length:0;parseInt(e.get("children"))&&(a-=t.data.rooms.filter(e=>e.name.match(/Barclay|Orientale|Louisiane|Suite/i)).length,parseInt(e.get("adults"))+parseInt(e.get("children"))==4&&(a-=t.data.rooms.filter(e=>e.name.match(/Ty N/i)).length)),a>0?($("#chk-"+o+"-"+r+" a").attr("href",d),$("#chk-"+o+"-"+r+" i").removeClass("fa-spinner fa-spin").addClass("fa-check")):($("#chk-"+o+"-"+r+" a").css("text-decoration","line-through"),$("#chk-"+o+"-"+r+" i").removeClass("fa-spinner fa-spin").addClass("fa-times"))}})};