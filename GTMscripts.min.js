var room_ids={8490:"Barclay",8491:"Orientale",8492:"Louisiane",8493:"Suite Junior",8494:"Lodge",8495:"Pavillon",21546:"Ty Nid",9059056555:"Carte cadeau 100€",9053164897:"Carte cadeau 150€"};bookingRoomDataLayer=function(){var t=[];$("form.room_booked").each((function(e,a){var o={};o.item_id=""+$("input#room_booked_room_id",$(a)).attr("value"),o.item_name=room_ids[$("input#room_booked_room_id",$(a)).attr("value")],o.item_category=$("input#room_booked_arrival_date",$(a)).attr("value")+"-"+$("input#room_booked_departure_date",$(a)).attr("value")+"/"+$("input#room_booked_total_adult",$(a)).attr("value")+" adultes-"+$("input#room_booked_total_children",$(a)).attr("value")+" enfants",o.price=$("input#room_booked_total_price",$(a)).attr("value"),o.promotion_id=$("input#room_booked_pricing_type_id",$(a)).attr("value"),t[e]=o})),window.dataLayer.push({event:"view_item",ecommerce:{currency:"EUR",value:t[0].price,items:t}})},informationsDataLayer=function(t){var e=[],a=$(".informations__header h3").text().replace(/\s+/g," ");$(".informations__room-info").each((function(t,o){var r={};r.item_name=$(".informations__room-name h3",$(o)).text(),r.item_category=a+"/"+$('select[name="cart_item[total_adult]"]',$(o)).val()+" adultes-"+$('select[name="cart_item[total_children]"]',$(o)).val()+" enfants",r.price=$(".informations__room-info",$(o)).text().match(/\d+ €/)[0],e[t]=r})),window.dataLayer.push({event:t,ecommerce:{currency:"EUR",value:$("#total-price-booking-engine").text(),items:e}})},$(document).ready((function(){$("form.form_booked").submit((function(t){var e=$(t.target[0]).parents("form"),a="add_to_cart",o={price:0};e.attr("action").includes("add-room-to-cart")?(o.item_id=""+$("input#room_booked_room_id",e).attr("value"),o.item_name=room_ids[o.item_id],o.item_category=$("input#room_booked_arrival_date",e).attr("value")+"-"+$("input#room_booked_departure_date",e).attr("value")+"/"+$("input#room_booked_total_adult",e).attr("value")+" adultes-"+$("input#room_booked_total_children",e).attr("value")+" enfants",o.price=$("input#room_booked_total_price",e).attr("value"),o.promotion_id=$("input#room_booked_pricing_type_id",e).attr("value"),o.item_list_id=$('input[name="cart_id"]',e).attr("value")):e.attr("action").includes("add-gift-card-to-cart")?(o.item_id=e.attr("action").match(/\d+/g)[0],o.item_name=room_ids[o.item_id],o.item_category="Carte Cadeau",o.price=o.item_name.match(/\d+/g)[0],o.item_list_id=$('input[name="cart_id"]',e).attr("value")):a="",a&&(window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:a,ecommerce:{currency:"EUR",value:o.price,items:[o]}}))})),$('form[action*="destroy-cart"]').submit((function(t){var e=$(t.target[0]).parents("form"),a={item_name:"Panier complet",item_list_id:$('input[name="cart_id"]',e).val()};window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"remove_from_cart",ecommerce:{items:[a]}})})),$("form#new_cart_customer").submit((function(t){var e,a={};if(e=$("input#cart_customer_email").val()){a.lead_email=e,a.lead_lastname=$("input#cart_customer_last_name").val(),a.lead_firstname=$("input#cart_customer_first_name").val(),a.lead_tel=$("input#cart_customer_phone").val(),a.lead_dates=$(".informations__header h3").text().replace(/\s+/g," ");var o=[];$(".informations__room-info").each((function(t,e){o[t]=$(".informations__room-name h3",$(e)).text()+"("+$('select[name="cart_item[total_adult]"]',$(e)).val()+" adultes-"+$('select[name="cart_item[total_children]"]',$(e)).val()+" enfants)"})),a.lead_rooms=o.toString(),window.dataLayer.push(a)}})),$('a[href*="booking/remove-from-cart"').on("click",(function(t){t.preventDefault();var e=$(t.target).parents(".informations__room-info"),a={item_name:$(".informations__room-name h3",e).text(),item_category:$(".informations__header h3").text().replace(/\s+/g," ")+"/"+$('select[name="cart_item[total_adult]"]',e).val()+" adultes-"+$('select[name="cart_item[total_children]"]',e).val()+" enfants",price:$(".informations__room-info").text().match(/\d+ €/)[0]};window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:"remove_from_cart",ecommerce:{currency:"EUR",value:$("#total-price-booking-engine").text(),items:[a]}})}))}));